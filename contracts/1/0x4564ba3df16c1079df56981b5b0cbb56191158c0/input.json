{
  "language": "Solidity",
  "settings": {
    "libraries": {},
    "metadata": {
      "useLiteralContent": true
    },
    "optimizer": {
      "enabled": true,
      "runs": 200
    },
    "remappings": [],
    "outputSelection": {
      "*": {
        "*": [
          "*"
        ],
        "": [
          "*"
        ]
      }
    }
  },
  "sources": {
    "browser/DiamondMine.sol": {
      "content": "/*\n* ==========================================================\nâ€œEven if you feel lost and weak, remember that each day can be the beginning of something wonderful. Do not give up.\"\nI am diamondmine;\n _______   __                                                    __  __       __  __                     \n/       \\ /  |                                                  /  |/  \\     /  |/  |                    \n$$$$$$$  |$$/   ______   _____  ____    ______   _______    ____$$ |$$  \\   /$$ |$$/  _______    ______  \n$$ |  $$ |/  | /      \\ /     \\/    \\  /      \\ /       \\  /    $$ |$$$  \\ /$$$ |/  |/       \\  /      \\ \n$$ |  $$ |$$ | $$$$$$  |$$$$$$ $$$$  |/$$$$$$  |$$$$$$$  |/$$$$$$$ |$$$$  /$$$$ |$$ |$$$$$$$  |/$$$$$$  |\n$$ |  $$ |$$ | /    $$ |$$ | $$ | $$ |$$ |  $$ |$$ |  $$ |$$ |  $$ |$$ $$ $$/$$ |$$ |$$ |  $$ |$$    $$ |\n$$ |__$$ |$$ |/$$$$$$$ |$$ | $$ | $$ |$$ \\__$$ |$$ |  $$ |$$ \\__$$ |$$ |$$$/ $$ |$$ |$$ |  $$ |$$$$$$$$/ \n$$    $$/ $$ |$$    $$ |$$ | $$ | $$ |$$    $$/ $$ |  $$ |$$    $$ |$$ | $/  $$ |$$ |$$ |  $$ |$$       |\n$$$$$$$/  $$/  $$$$$$$/ $$/  $$/  $$/  $$$$$$/  $$/   $$/  $$$$$$$/ $$/      $$/ $$/ $$/   $$/  $$$$$$$/ \n\nThis contract is made and designed for you and we all have to work to keep it active, keeping the mines full and removing as much stone as possible.\nOur stones are: Silver, Gold, Ruby, Sapphire, Emerald, Diamond.\n\nOur official networks\n----- Website -----\nhttps://diamondmine.live,\nhttps://diamondmine.money,\nhttps://diamondmine.run\nTelegram Channel: https://t.me/diamondmineofficial\nHashtag: #DiamondMine\nWhatsApp link : https://chat.whatsapp.com/FnzZDJEL75B95EoPBKXWxA\n* ==========================================================\n*/\npragma solidity >=0.5.12 <0.7.0;\n\ncontract DiamondMine {\n\n    struct User {\n        uint id;\n        uint referrerCount;\n        uint referrerId;\n        uint earnedFromMine;\n        uint earnedFromRef;\n        uint earnedFromGlobal;\n        address[] referrals;\n    }\n    \n    struct UsersMine {\n        uint id;\n        uint referrerId;\n        uint reinvestCount;\n    }\n    \n    struct MineSlots {\n        uint id;\n        address userAddress;\n        uint referrerId;\n        uint8 eventsCount;\n    }\n        \n    modifier validReferrerId(uint _referrerId) {\n        require((_referrerId > 0) && (_referrerId < newUserId), \"Invalid referrer ID\");\n        _;\n    }\n    \n    event RegisterUserEvent(uint _userid, address indexed _user, address indexed _referrerAddress, uint8 indexed _automine, uint _amount, uint _time);\n    event ReinvestEvent(uint _userid, address indexed _user, address indexed _referrerAddress, uint8 indexed _automine, uint _amount, uint _time);\n    event DistributeUplineEvent(uint amount, address indexed _sponsorAddress, address indexed _fromAddress, uint _level, uint8 _fromMine, uint _time);\n    event ReferralPaymentEvent(uint amount, address indexed _from, address indexed _to, uint8 indexed _fromMine, uint _time);\n\n    mapping(address => User) public users;\n    mapping(address => UsersMine) public users_2;\n    mapping(uint => MineSlots) public mine_slots_2;\n    mapping(address => UsersMine) public users_3;\n    mapping(uint => MineSlots) public mine_slots_3;\n    mapping(address => UsersMine) public users_4;\n    mapping(uint => MineSlots) public mine_slots_4;\n    mapping(address => UsersMine) public users_5;\n    mapping(uint => MineSlots) public mine_slots_5;\n    mapping(address => UsersMine) public users_6;\n    mapping(uint => MineSlots) public mine_slots_6;\n    mapping(address => UsersMine) public users_7;\n    mapping(uint => MineSlots) public mine_slots_7;\n\n    mapping(uint => address) public idToAddress;\n    mapping (uint8 => uint8) public uplineAmount;\n    \n    uint public newUserId = 1;\n    uint public newUserId_ap2 = 1;\n    uint public newUserId_ap3 = 1;\n    uint public newUserId_ap4 = 1;\n    uint public newUserId_ap5 = 1;\n    uint public newUserId_ap6 = 1;\n    uint public newUserId_ap7 = 1;\n\n    uint public newSlotId_ap2 = 1;\n    uint public activeSlot_ap2 = 1;\n    uint public newSlotId_ap3 = 1;\n    uint public activeSlot_ap3 = 1;\n    uint public newSlotId_ap4 = 1;\n    uint public activeSlot_ap4 = 1;\n    uint public newSlotId_ap5 = 1;\n    uint public activeSlot_ap5 = 1;\n    uint public newSlotId_ap6 = 1;\n    uint public activeSlot_ap6 = 1;\n    uint public newSlotId_ap7 = 1;\n    uint public activeSlot_ap7 = 1;\n    \n    address public owner;\n    \n    constructor() public {\n        \n        uplineAmount[1] = 50;\n        uplineAmount[2] = 25;\n        uplineAmount[3] = 15;\n        uplineAmount[4] = 10;\n        uplineAmount[5] = 6;\n        uplineAmount[6] = 47;\n        uplineAmount[7] = 100;\n        \n        owner =  msg.sender;\n        \n        User memory user = User({\n            id: newUserId,\n            referrerCount: uint(0),\n            referrerId: uint(0),\n            earnedFromMine: uint(0),\n            earnedFromRef: uint(0),\n            earnedFromGlobal: uint(0),\n            referrals: new address[](0)\n        });\n        \n        users[ msg.sender] = user;\n        idToAddress[newUserId] =  msg.sender;\n        newUserId++;\n        \n        //////\n        \n        UsersMine memory user2 = UsersMine({\n            id: newSlotId_ap2,\n            referrerId: uint(0),\n            reinvestCount: uint(0)\n        });\n        \n        users_2[ msg.sender] = user2;\n        \n        MineSlots memory _newSlot2 = MineSlots({\n            id: newSlotId_ap2,\n            userAddress:  msg.sender,\n            referrerId: uint(0),\n            eventsCount: uint8(0)\n        });\n        \n        mine_slots_2[newSlotId_ap2] = _newSlot2;\n        newUserId_ap2++;\n        newSlotId_ap2++;\n        \n        ///////\n        \n        UsersMine memory user3 = UsersMine({\n            id: newSlotId_ap3,\n            referrerId: uint(0),\n            reinvestCount: uint(0)\n        });\n        \n        users_3[ msg.sender] = user3;\n        \n        MineSlots memory _newSlot3 = MineSlots({\n            id: newSlotId_ap3,\n            userAddress:  msg.sender,\n            referrerId: uint(0),\n            eventsCount: uint8(0)\n        });\n        \n        mine_slots_3[newSlotId_ap3] = _newSlot3;\n        newUserId_ap3++;\n        newSlotId_ap3++;\n        \n        ///////\n        \n        UsersMine memory user4 = UsersMine({\n            id: newSlotId_ap4,\n            referrerId: uint(0),\n            reinvestCount: uint(0)\n        });\n        \n        users_4[ msg.sender] = user4;\n        \n        MineSlots memory _newSlot4 = MineSlots({\n            id: newSlotId_ap4,\n            userAddress:  msg.sender,\n            referrerId: uint(0),\n            eventsCount: uint8(0)\n        });\n        \n        mine_slots_4[newSlotId_ap4] = _newSlot4;\n        newUserId_ap4++;\n        newSlotId_ap4++;\n        \n        ///////\n        \n        UsersMine memory user5 = UsersMine({\n            id: newSlotId_ap5,\n            referrerId: uint(0),\n            reinvestCount: uint(0)\n        });\n        \n        users_5[ msg.sender] = user5;\n        \n        MineSlots memory _newSlot5 = MineSlots({\n            id: newSlotId_ap5,\n            userAddress:  msg.sender,\n            referrerId: uint(0),\n            eventsCount: uint8(0)\n        });\n        \n        mine_slots_5[newSlotId_ap5] = _newSlot5;\n        newUserId_ap5++;\n        newSlotId_ap5++;\n        \n        ///////\n        \n        UsersMine memory user6 = UsersMine({\n            id: newSlotId_ap6,\n            referrerId: uint(0),\n            reinvestCount: uint(0)\n        });\n        \n        users_6[ msg.sender] = user6;\n        \n        MineSlots memory _newSlot6 = MineSlots({\n            id: newSlotId_ap6,\n            userAddress:  msg.sender,\n            referrerId: uint(0),\n            eventsCount: uint8(0)\n        });\n        \n        mine_slots_6[newSlotId_ap6] = _newSlot6;\n        newUserId_ap6++;\n        newSlotId_ap6++;\n        \n        ///////\n        \n        UsersMine memory user7 = UsersMine({\n            id: newSlotId_ap7,\n            referrerId: uint(0),\n            reinvestCount: uint(0)\n        });\n        \n        users_7[msg.sender] = user7;\n        \n        MineSlots memory _newSlot7 = MineSlots({\n            id: newSlotId_ap7,\n            userAddress:  msg.sender,\n            referrerId: uint(0),\n            eventsCount: uint8(0)\n        });\n        \n        mine_slots_7[newSlotId_ap7] = _newSlot7;\n        newUserId_ap7++;\n        newSlotId_ap7++;\n    }\n    \n    function enterMine(uint _referrerId) \n      public \n      payable \n      validReferrerId(_referrerId) \n    {\n        require(msg.value == 0.1 ether, \"Participation fee is 0.1 ETH\");\n        require(!isUserExists(msg.sender, 1), \"User already registered\");\n\n        address _userAddress = msg.sender;\n        address _referrerAddress = idToAddress[_referrerId];\n        \n        uint32 size;\n        assembly {\n            size := extcodesize(_userAddress)\n        }\n        require(size == 0, \"cannot be a contract\");\n        \n        users[_userAddress] = User({\n            id: newUserId,\n            referrerCount: uint(0),\n            referrerId: _referrerId,\n            earnedFromMine: uint(0),\n            earnedFromRef: uint(0),\n            earnedFromGlobal: uint(0),\n            referrals: new address[](0)\n        });\n        idToAddress[newUserId] = _userAddress;\n\n        emit RegisterUserEvent(newUserId, msg.sender, _referrerAddress, 1, msg.value, now);\n        \n        newUserId++;\n        \n        users[_referrerAddress].referrals.push(_userAddress);\n        users[_referrerAddress].referrerCount++;\n\n        uint256 amountToDistribute = msg.value;\n        address sponsorAddress = idToAddress[_referrerId];\n\n        payRegister(0x2e674473Dd4CB1Fc1B98189DE0fEA078cd99ba53, 5);\n        payRegister(0x89E7902830dd3ad68fe44F29D44260f26c412023, 6);\n        payRegister(0x65563f4Cb686Ddfaeb201dcD1C17a458Dd51F651, 6);\n        \n    }\n      function payRegister(address _sponsorAddress, uint8 _percentage)\n        private\n        returns (uint256 distributeAmount)\n    {\n        distributeAmount = (msg.value / 100) * uplineAmount[_percentage];\n        if (address(uint160(_sponsorAddress)).send(distributeAmount)) {\n            emit DistributeUplineEvent(\n                distributeAmount,\n                _sponsorAddress,\n                msg.sender,\n                _percentage,\n                _percentage,\n                now\n            );\n        }\n        return distributeAmount;\n    }\n    \n    function buyMineSilver() \n      public \n      payable \n    {\n        require(msg.value == 0.2 ether, \"Participation fee in Automine is 0.2 ETH\");\n        require(isUserExists(msg.sender, 1), \"User not present in AP1\");\n        require(isUserQualified(msg.sender), \"User not qualified in AP1\");\n        require(!isUserExists(msg.sender, 2), \"User already registered in AP2\");\n\n        uint eventCount = mine_slots_2[activeSlot_ap2].eventsCount;\n        uint newEventCount = eventCount + 1;\n\n        if (newEventCount == 3) {\n            require(reinvestSlot(\n                mine_slots_2[activeSlot_ap2].userAddress, \n                mine_slots_2[activeSlot_ap2].id, \n                idToAddress[users[mine_slots_2[activeSlot_ap2].userAddress].referrerId], \n                2\n            ));\n            mine_slots_2[activeSlot_ap2].eventsCount++;\n        }\n        \n        uint _referrerId = users[msg.sender].referrerId;\n\n        UsersMine memory user2 = UsersMine({\n            id: newSlotId_ap2,\n            referrerId: _referrerId,\n            reinvestCount: uint(0)\n        });\n        users_2[msg.sender] = user2;\n        \n        MineSlots memory _newSlot = MineSlots({\n            id: newSlotId_ap2,\n            userAddress: msg.sender,\n            referrerId: _referrerId,\n            eventsCount: uint8(0)\n        });\n        \n        mine_slots_2[newSlotId_ap2] = _newSlot;\n        newUserId_ap2++;\n        emit RegisterUserEvent(newSlotId_ap2, msg.sender, idToAddress[_referrerId], 2, msg.value, now);\n        \n        if (_referrerId > 0) {\n            payUpline(idToAddress[_referrerId], 1, 2);\n            users[idToAddress[_referrerId]].earnedFromRef += msg.value/2;\n        }\n        else{\n            payUpline(idToAddress[1], 1, 2);\n            users[idToAddress[1]].earnedFromRef += msg.value/2;\n        }\n\n        newSlotId_ap2++;\n\n        if (eventCount < 2) {\n            \n            if(eventCount == 0) {\n                payUpline(mine_slots_2[activeSlot_ap2].userAddress, 1, 2);\n                users[mine_slots_2[activeSlot_ap2].userAddress].earnedFromGlobal += msg.value/2;\n            }\n            if(eventCount == 1) {\n                if (mine_slots_2[activeSlot_ap2].referrerId > 0) {\n                    payUpline(idToAddress[mine_slots_2[activeSlot_ap2].referrerId], 1, 2);\n                    users[idToAddress[mine_slots_2[activeSlot_ap2].referrerId]].earnedFromRef += msg.value/2;\n                }\n                else {\n                    payUpline(idToAddress[1], 1, 2);\n                    users[idToAddress[1]].earnedFromRef += msg.value/2;\n                }\n            }\n\n            mine_slots_2[activeSlot_ap2].eventsCount++;\n            \n        }\n        \n    }\n\n    function buyMineGold() \n      public \n      payable \n    {\n        require(msg.value == 0.3 ether, \"Participation fee in Automine is 0.3 ETH\");\n        require(isUserExists(msg.sender, 1), \"User not present in AP1\");\n        require(isUserQualified(msg.sender), \"User not qualified in AP1\");\n        require(!isUserExists(msg.sender, 3), \"User already registered in AP3\");\n        require(isUserQualifiedbuyMineGold(msg.sender), \"User not qualified in for payment mine MineGold\");\n\n        uint eventCount = mine_slots_3[activeSlot_ap3].eventsCount;\n        uint newEventCount = eventCount + 1;\n\n        if (newEventCount == 3) {\n            require(reinvestSlot(\n                mine_slots_3[activeSlot_ap3].userAddress, \n                mine_slots_3[activeSlot_ap3].id, \n                idToAddress[users[mine_slots_3[activeSlot_ap3].userAddress].referrerId], \n                3\n            ));\n            mine_slots_3[activeSlot_ap3].eventsCount++;\n        }\n        \n        uint _referrerId = users[msg.sender].referrerId;\n\n        UsersMine memory user3 = UsersMine({\n            id: newSlotId_ap3,\n            referrerId: _referrerId,\n            reinvestCount: uint(0)\n        });\n        users_3[msg.sender] = user3;\n        \n        MineSlots memory _newSlot = MineSlots({\n            id: newSlotId_ap3,\n            userAddress: msg.sender,\n            referrerId: _referrerId,\n            eventsCount: uint8(0)\n        });\n        \n        mine_slots_3[newSlotId_ap3] = _newSlot;\n        newUserId_ap3++;\n        emit RegisterUserEvent(newSlotId_ap3, msg.sender, idToAddress[_referrerId], 3, msg.value, now);\n        \n        if (_referrerId > 0) {\n            payUpline(idToAddress[_referrerId], 1, 3);\n            users[idToAddress[_referrerId]].earnedFromRef += msg.value/2;\n        }\n        else{\n            payUpline(idToAddress[1], 1, 3);\n            users[idToAddress[1]].earnedFromRef += msg.value/2;\n        }\n\n        newSlotId_ap3++;\n\n        if (eventCount < 2) {\n            \n            if(eventCount == 0) {\n                payUpline(mine_slots_3[activeSlot_ap3].userAddress, 1, 3);\n                users[mine_slots_3[activeSlot_ap3].userAddress].earnedFromGlobal += msg.value/2;\n            }\n            if(eventCount == 1) {\n                if (mine_slots_3[activeSlot_ap3].referrerId > 0) {\n                    payUpline(idToAddress[mine_slots_3[activeSlot_ap3].referrerId], 1, 3);\n                    users[idToAddress[mine_slots_3[activeSlot_ap3].referrerId]].earnedFromRef += msg.value/2;\n                }\n                else {\n                    payUpline(idToAddress[1], 1, 3);\n                    users[idToAddress[1]].earnedFromRef += msg.value/2;\n                }\n            }\n\n            mine_slots_3[activeSlot_ap3].eventsCount++;\n            \n        }\n        \n    }\n\n    function buyMineRubi() \n      public \n      payable \n    {\n        require(msg.value == 0.4 ether, \"Participation fee in Automine is 0.4 ETH\");\n        require(isUserExists(msg.sender, 1), \"User not present in AP1\");\n        require(isUserQualified(msg.sender), \"User not qualified in AP1\");\n        require(!isUserExists(msg.sender, 4), \"User already registered in AP4\");\n        require(isUserQualifiedbuyMineRubi(msg.sender), \"User not qualified in for payment mine MineRubi\");\n\n        uint eventCount = mine_slots_4[activeSlot_ap4].eventsCount;\n        uint newEventCount = eventCount + 1;\n\n        if (newEventCount == 3) {\n            require(reinvestSlot(\n                mine_slots_4[activeSlot_ap4].userAddress, \n                mine_slots_4[activeSlot_ap4].id, \n                idToAddress[users[mine_slots_4[activeSlot_ap4].userAddress].referrerId], \n                4\n            ));\n            mine_slots_4[activeSlot_ap4].eventsCount++;\n        }\n        \n        uint _referrerId = users[msg.sender].referrerId;\n\n        UsersMine memory user4 = UsersMine({\n            id: newSlotId_ap4,\n            referrerId: _referrerId,\n            reinvestCount: uint(0)\n        });\n        users_4[msg.sender] = user4;\n        \n        MineSlots memory _newSlot = MineSlots({\n            id: newSlotId_ap4,\n            userAddress: msg.sender,\n            referrerId: _referrerId,\n            eventsCount: uint8(0)\n        });\n        \n        mine_slots_4[newSlotId_ap4] = _newSlot;\n        newUserId_ap4++;\n        emit RegisterUserEvent(newSlotId_ap4, msg.sender, idToAddress[_referrerId], 4, msg.value, now);\n        \n        if (_referrerId > 0) {\n            payUpline(idToAddress[_referrerId], 1, 4);\n            users[idToAddress[_referrerId]].earnedFromRef += msg.value/2;\n        }\n        else{\n            payUpline(idToAddress[1], 1, 4);\n            users[idToAddress[1]].earnedFromRef += msg.value/2;\n        }\n\n        newSlotId_ap4++;\n\n        if (eventCount < 2) {\n            \n            if(eventCount == 0) {\n                payUpline(mine_slots_4[activeSlot_ap4].userAddress, 1, 4);\n                users[mine_slots_4[activeSlot_ap4].userAddress].earnedFromGlobal += msg.value/2;\n            }\n            if(eventCount == 1) {\n                if (mine_slots_4[activeSlot_ap4].referrerId > 0) {\n                    payUpline(idToAddress[mine_slots_4[activeSlot_ap4].referrerId], 1, 4);\n                    users[idToAddress[mine_slots_4[activeSlot_ap4].referrerId]].earnedFromRef += msg.value/2;\n                }\n                else {\n                    payUpline(idToAddress[1], 1, 4);\n                    users[idToAddress[1]].earnedFromRef += msg.value/2;\n                }\n            }\n\n            mine_slots_4[activeSlot_ap4].eventsCount++;\n            \n        }\n        \n    }\n\n    function buyMineSapphire() \n      public \n      payable \n    {\n        require(msg.value == 0.5 ether, \"Participation fee in Automine is 0.5 ETH\");\n        require(isUserExists(msg.sender, 1), \"User not present in AP1\");\n        require(isUserQualified(msg.sender), \"User not qualified in AP1\");\n        require(!isUserExists(msg.sender, 5), \"User already registered in AP5\");\n         require(isUserQualifiedbuyMineSapphire(msg.sender), \"User not qualified in for payment mine MineSapphire\");\n\n        uint eventCount = mine_slots_5[activeSlot_ap5].eventsCount;\n        uint newEventCount = eventCount + 1;\n\n        if (newEventCount == 3) {\n            require(reinvestSlot(\n                mine_slots_5[activeSlot_ap5].userAddress, \n                mine_slots_5[activeSlot_ap5].id, \n                idToAddress[users[mine_slots_5[activeSlot_ap5].userAddress].referrerId], \n                5\n            ));\n            mine_slots_5[activeSlot_ap5].eventsCount++;\n        }\n        \n        uint _referrerId = users[msg.sender].referrerId;\n\n        UsersMine memory user5 = UsersMine({\n            id: newSlotId_ap5,\n            referrerId: _referrerId,\n            reinvestCount: uint(0)\n        });\n        users_5[msg.sender] = user5;\n        \n        MineSlots memory _newSlot = MineSlots({\n            id: newSlotId_ap5,\n            userAddress: msg.sender,\n            referrerId: _referrerId,\n            eventsCount: uint8(0)\n        });\n        \n        mine_slots_5[newSlotId_ap5] = _newSlot;\n        newUserId_ap5++;\n        emit RegisterUserEvent(newSlotId_ap5, msg.sender, idToAddress[_referrerId], 5, msg.value, now);\n        \n        if (_referrerId > 0) {\n            payUpline(idToAddress[_referrerId], 1, 5);\n            users[idToAddress[_referrerId]].earnedFromRef += msg.value/2;\n        }\n        else{\n            payUpline(idToAddress[1], 1, 5);\n            users[idToAddress[1]].earnedFromRef += msg.value/2;\n        }\n\n        newSlotId_ap5++;\n\n        if (eventCount < 2) {\n            \n            if(eventCount == 0) {\n                payUpline(mine_slots_5[activeSlot_ap5].userAddress, 1, 5);\n                users[mine_slots_5[activeSlot_ap5].userAddress].earnedFromGlobal += msg.value/2;\n            }\n            if(eventCount == 1) {\n                if (mine_slots_5[activeSlot_ap5].referrerId > 0) {\n                    payUpline(idToAddress[mine_slots_5[activeSlot_ap5].referrerId], 1, 5);\n                    users[idToAddress[mine_slots_5[activeSlot_ap5].referrerId]].earnedFromRef += msg.value/2;\n                }\n                else {\n                    payUpline(idToAddress[1], 1, 5);\n                    users[idToAddress[1]].earnedFromRef += msg.value/2;\n                }\n            }\n\n            mine_slots_5[activeSlot_ap5].eventsCount++;\n            \n        }\n        \n    }\n\n    function buyMineEmerald() \n      public \n      payable \n    {\n        require(msg.value == 0.7 ether, \"Participation fee in Automine is 0.7 ETH\");\n        require(isUserExists(msg.sender, 1), \"User not present in AP1\");\n        require(isUserQualified(msg.sender), \"User not qualified in AP1\");\n        require(!isUserExists(msg.sender, 6), \"User already registered in AP6\");\n        require(isUserQualifiedbuyMineEmerald(msg.sender), \"User not qualified in for payment mine MineEmerald\");\n\n        uint eventCount = mine_slots_6[activeSlot_ap6].eventsCount;\n        uint newEventCount = eventCount + 1;\n\n        if (newEventCount == 3) {\n            require(reinvestSlot(\n                mine_slots_6[activeSlot_ap6].userAddress, \n                mine_slots_6[activeSlot_ap6].id, \n                idToAddress[users[mine_slots_6[activeSlot_ap6].userAddress].referrerId], \n                6\n            ));\n            mine_slots_6[activeSlot_ap6].eventsCount++;\n        }\n        \n        uint _referrerId = users[msg.sender].referrerId;\n\n        UsersMine memory user6 = UsersMine({\n            id: newSlotId_ap6,\n            referrerId: _referrerId,\n            reinvestCount: uint(0)\n        });\n        users_6[msg.sender] = user6;\n        \n        MineSlots memory _newSlot = MineSlots({\n            id: newSlotId_ap6,\n            userAddress: msg.sender,\n            referrerId: _referrerId,\n            eventsCount: uint8(0)\n        });\n        \n        mine_slots_6[newSlotId_ap6] = _newSlot;\n        newUserId_ap6++;\n        emit RegisterUserEvent(newSlotId_ap6, msg.sender, idToAddress[_referrerId], 6, msg.value, now);\n        \n        if (_referrerId > 0) {\n            payUpline(idToAddress[_referrerId], 1, 6);\n            users[idToAddress[_referrerId]].earnedFromRef += msg.value/2;\n        }\n        else{\n            payUpline(idToAddress[1], 1, 6);\n            users[idToAddress[1]].earnedFromRef += msg.value/2;\n        }\n\n        newSlotId_ap6++;\n\n        if (eventCount < 2) {\n            \n            if(eventCount == 0) {\n                payUpline(mine_slots_6[activeSlot_ap6].userAddress, 1, 6);\n                users[mine_slots_6[activeSlot_ap6].userAddress].earnedFromGlobal += msg.value/2;\n            }\n            if(eventCount == 1) {\n                if (mine_slots_6[activeSlot_ap6].referrerId > 0) {\n                    payUpline(idToAddress[mine_slots_6[activeSlot_ap6].referrerId], 1, 6);\n                    users[idToAddress[mine_slots_6[activeSlot_ap6].referrerId]].earnedFromRef += msg.value/2;\n                }\n                else {\n                    payUpline(idToAddress[1], 1, 6);\n                    users[idToAddress[1]].earnedFromRef += msg.value/2;\n                }\n            }\n\n            mine_slots_6[activeSlot_ap6].eventsCount++;\n            \n        }\n        \n    }\n\n    function buyMineDiamond() \n      public \n      payable \n    {\n        require(msg.value == 1 ether, \"Participation fee in Automine is 1 ETH\");\n        require(isUserExists(msg.sender, 1), \"User not present in AP1\");\n        require(isUserQualified(msg.sender), \"User not qualified in AP1\");\n        require(!isUserExists(msg.sender, 7), \"User already registered in AP7\");\n        require(isUserQualifiedbuyMineDiamond(msg.sender), \"User not qualified in for payment mine MineDiamond\");\n\n        uint eventCount = mine_slots_7[activeSlot_ap7].eventsCount;\n        uint newEventCount = eventCount + 1;\n\n        if (newEventCount == 3) {\n            require(reinvestSlot(\n                mine_slots_7[activeSlot_ap7].userAddress, \n                mine_slots_7[activeSlot_ap7].id, \n                idToAddress[users[mine_slots_7[activeSlot_ap7].userAddress].referrerId], \n                7\n            ));\n            mine_slots_7[activeSlot_ap7].eventsCount++;\n        }\n        \n        uint _referrerId = users[msg.sender].referrerId;\n\n        UsersMine memory user7 = UsersMine({\n            id: newSlotId_ap7,\n            referrerId: _referrerId,\n            reinvestCount: uint(0)\n        });\n        users_7[msg.sender] = user7;\n        \n        MineSlots memory _newSlot = MineSlots({\n            id: newSlotId_ap7,\n            userAddress: msg.sender,\n            referrerId: _referrerId,\n            eventsCount: uint8(0)\n        });\n        \n        mine_slots_7[newSlotId_ap7] = _newSlot;\n        newUserId_ap7++;\n        emit RegisterUserEvent(newSlotId_ap7, msg.sender, idToAddress[_referrerId], 7, msg.value, now);\n\n        if (_referrerId > 0) {\n            payUpline(idToAddress[_referrerId], 1, 7);\n            users[idToAddress[_referrerId]].earnedFromRef += msg.value/2;\n        }\n        else{\n            payUpline(idToAddress[1], 1, 7);\n            users[idToAddress[1]].earnedFromRef += msg.value/2;\n        }\n        \n        newSlotId_ap7++;\n\n        if (eventCount < 2) {\n            \n            if(eventCount == 0) {\n                payUpline(mine_slots_7[activeSlot_ap7].userAddress, 1, 7);\n                users[mine_slots_7[activeSlot_ap7].userAddress].earnedFromGlobal += msg.value/2;\n            }\n            if(eventCount == 1) {\n                if (mine_slots_7[activeSlot_ap7].referrerId > 0) {\n                    payUpline(idToAddress[mine_slots_7[activeSlot_ap7].referrerId], 1, 7);\n                    users[idToAddress[mine_slots_7[activeSlot_ap7].referrerId]].earnedFromRef += msg.value/2;\n                }\n                else {\n                    payUpline(idToAddress[1], 1, 7);\n                    users[idToAddress[1]].earnedFromRef += msg.value/2;\n                }\n            }\n\n            mine_slots_7[activeSlot_ap7].eventsCount++;\n            \n        }\n        \n    }\n    function isUserQualifiedbuyMineGold(address _userAddress)\n        public\n        view\n        returns (bool)\n    {\n        return (users_2[_userAddress].id > 0);\n    }\n\n    function isUserQualifiedbuyMineRubi(address _userAddress)\n        public\n        view\n        returns (bool)\n    {\n        return (users_3[_userAddress].id > 0);\n    }\n\n    function isUserQualifiedbuyMineSapphire(address _userAddress)\n        public\n        view\n        returns (bool)\n    {\n        return (users_4[_userAddress].id > 0);\n    }\n\n    function isUserQualifiedbuyMineEmerald(address _userAddress)\n        public\n        view\n        returns (bool)\n    {\n        return (users_5[_userAddress].id > 0);\n    }\n\n    function isUserQualifiedbuyMineDiamond(address _userAddress)\n        public\n        view\n        returns (bool)\n    {\n        return (users_6[_userAddress].id > 0);\n    }\n\n    function reinvestSlot(address _userAddress, uint _userId, address _sponsorAddress, uint8 _fromMine) private returns (bool _isReinvested) {\n\n        uint _referrerId = users[_userAddress].referrerId;\n\n        MineSlots memory _reinvestslot = MineSlots({\n            id: _userId,\n            userAddress: _userAddress,\n            referrerId: _referrerId,\n            eventsCount: uint8(0)\n        });\n        \n        if (_fromMine == 2) {\n            users_2[mine_slots_2[activeSlot_ap2].userAddress].reinvestCount++;        \n            mine_slots_2[newSlotId_ap2] = _reinvestslot;\n            emit ReinvestEvent(newSlotId_ap2, _userAddress, _sponsorAddress, 2, msg.value, now);\n            newSlotId_ap2++;\n        }\n        if (_fromMine == 3) {\n            users_3[mine_slots_3[activeSlot_ap3].userAddress].reinvestCount++;        \n            mine_slots_3[newSlotId_ap3] = _reinvestslot;\n            emit ReinvestEvent(newSlotId_ap3, _userAddress, _sponsorAddress, 3, msg.value, now);\n            newSlotId_ap3++;\n        }\n        if (_fromMine == 4) {\n            users_4[mine_slots_4[activeSlot_ap4].userAddress].reinvestCount++;        \n            mine_slots_4[newSlotId_ap4] = _reinvestslot;\n            emit ReinvestEvent(newSlotId_ap4, _userAddress, _sponsorAddress, 4, msg.value, now);\n            newSlotId_ap4++;\n        }\n        if (_fromMine == 5) {\n            users_5[mine_slots_5[activeSlot_ap5].userAddress].reinvestCount++;        \n            mine_slots_5[newSlotId_ap5] = _reinvestslot;\n            emit ReinvestEvent(newSlotId_ap5, _userAddress, _sponsorAddress, 5, msg.value, now);\n            newSlotId_ap5++;\n        }\n        if (_fromMine == 6) {\n            users_6[mine_slots_6[activeSlot_ap6].userAddress].reinvestCount++;        \n            mine_slots_6[newSlotId_ap6] = _reinvestslot;\n            emit ReinvestEvent(newSlotId_ap6, _userAddress, _sponsorAddress, 6, msg.value, now);\n            newSlotId_ap6++;\n        }\n        if (_fromMine == 7) {\n            users_7[mine_slots_7[activeSlot_ap7].userAddress].reinvestCount++;        \n            mine_slots_7[newSlotId_ap7] = _reinvestslot;\n            emit ReinvestEvent(newSlotId_ap7, _userAddress, _sponsorAddress, 7, msg.value, now);\n            newSlotId_ap7++;\n        }\n        \n        if (_fromMine == 2) {\n            mine_slots_2[activeSlot_ap2].eventsCount = 3;\n            uint _nextActiveSlot = activeSlot_ap2+1;\n\n            payUpline(mine_slots_2[_nextActiveSlot].userAddress, 1, 2);\n            users[mine_slots_2[_nextActiveSlot].userAddress].earnedFromGlobal += msg.value/2;\n            activeSlot_ap2++;\n        }\n        if (_fromMine == 3) {\n            mine_slots_3[activeSlot_ap3].eventsCount = 3;\n            uint _nextActiveSlot = activeSlot_ap3+1;\n\n            payUpline(mine_slots_3[_nextActiveSlot].userAddress, 1, 3);\n            users[mine_slots_3[_nextActiveSlot].userAddress].earnedFromGlobal += msg.value/2;\n            activeSlot_ap3++;\n        }\n        if (_fromMine == 4) {\n            mine_slots_4[activeSlot_ap4].eventsCount = 3;\n            uint _nextActiveSlot = activeSlot_ap4+1;\n\n            payUpline(mine_slots_4[_nextActiveSlot].userAddress, 1, 4);\n            users[mine_slots_4[_nextActiveSlot].userAddress].earnedFromGlobal += msg.value/2;\n            activeSlot_ap4++;\n        }\n        if (_fromMine == 5) {\n            mine_slots_5[activeSlot_ap5].eventsCount = 3;\n            uint _nextActiveSlot = activeSlot_ap5+1;\n\n            payUpline(mine_slots_5[_nextActiveSlot].userAddress, 1, 5);\n            users[mine_slots_5[_nextActiveSlot].userAddress].earnedFromGlobal += msg.value/2;\n            activeSlot_ap5++;\n        }\n        if (_fromMine == 6) {\n            mine_slots_6[activeSlot_ap6].eventsCount = 3;\n            uint _nextActiveSlot = activeSlot_ap6+1;\n\n            payUpline(mine_slots_6[_nextActiveSlot].userAddress, 1, 6);\n            users[mine_slots_6[_nextActiveSlot].userAddress].earnedFromGlobal += msg.value/2;\n            activeSlot_ap6++;\n        }\n        if (_fromMine == 7) {\n            mine_slots_7[activeSlot_ap7].eventsCount = 3;\n            uint _nextActiveSlot = activeSlot_ap7+1;\n\n            payUpline(mine_slots_7[_nextActiveSlot].userAddress, 1, 7);\n            users[mine_slots_7[_nextActiveSlot].userAddress].earnedFromGlobal += msg.value/2;\n            activeSlot_ap7++;\n        }\n\n        _isReinvested = true;\n\n        return _isReinvested;\n\n    }\n    \n    function payUpline(address _sponsorAddress, uint8 _refLevel, uint8 _fromMine) private returns (uint distributeAmount) {        \n        require( _refLevel <= 4);\n        distributeAmount = msg.value / 100 * uplineAmount[_refLevel];\n        if (address(uint160(_sponsorAddress)).send(distributeAmount)) {\n            if (_fromMine > 1) {\n                emit ReferralPaymentEvent(distributeAmount, msg.sender, _sponsorAddress, _fromMine, now);\n            } else\n                emit DistributeUplineEvent(distributeAmount, _sponsorAddress, msg.sender, _refLevel, _fromMine, now);\n        }        \n        return distributeAmount;\n    }\n    \n    function payFirstLine(address _sponsorAddress, uint payAmount, uint8 _fromMine) private returns (uint distributeAmount) {        \n        distributeAmount = payAmount;\n        if (address(uint160(_sponsorAddress)).send(distributeAmount)) {\n            if (_fromMine > 1) {\n                emit ReferralPaymentEvent(distributeAmount, msg.sender, _sponsorAddress, _fromMine, now);\n            } else emit DistributeUplineEvent(distributeAmount, _sponsorAddress, msg.sender, 1, _fromMine, now);\n        }        \n        return distributeAmount;        \n    }\n    \n    function isUserQualified(address _userAddress) public view returns (bool) {\n        return (users[_userAddress].referrerCount > 0);\n    }\n    \n    function isUserExists(address _userAddress, uint8 _automine) public view returns (bool) {\n        require((_automine > 0) && (_automine <= 7));\n        if (_automine == 1) return (users[_userAddress].id != 0);\n        if (_automine == 2) return (users_2[_userAddress].id != 0);\n        if (_automine == 3) return (users_3[_userAddress].id != 0);\n        if (_automine == 4) return (users_4[_userAddress].id != 0);\n        if (_automine == 5) return (users_5[_userAddress].id != 0);\n        if (_automine == 6) return (users_6[_userAddress].id != 0);\n        if (_automine == 7) return (users_7[_userAddress].id != 0);\n    }\n    \n    function getUserReferrals(address _userAddress)\n        public\n        view\n        returns (address[] memory)\n      {\n        return users[_userAddress].referrals;\n      }\n    \n}"
    }
  }
}