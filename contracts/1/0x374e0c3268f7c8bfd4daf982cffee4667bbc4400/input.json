{
  "language": "Solidity",
  "settings": {
    "libraries": {},
    "metadata": {
      "useLiteralContent": true
    },
    "optimizer": {
      "enabled": true,
      "runs": 200
    },
    "remappings": [],
    "outputSelection": {
      "*": {
        "*": [
          "*"
        ],
        "": [
          "*"
        ]
      }
    }
  },
  "sources": {
    "CorionLocker.sol": {
      "content": "/*\r\n\tCorionX token locker contract\r\n\tcorionLocker.sol\r\n\tv0.2.1\r\n\tAuthor: Andor 'iFA' Rajci - https://www.fusionsolutions.io\r\n*/\r\npragma solidity 0.4.26;\r\n/* Imports */\r\n\r\n/* Libraries */\r\nlibrary SafeMath {\r\n\tfunction mul(uint256 a, uint256 b) internal pure returns (uint256) {\r\n\t\tif ( a == 0 || b == 0 ) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tuint256 c = a * b;\r\n\t\tassert(c / a == b);\r\n\t\treturn c;\r\n\t}\r\n\r\n\tfunction div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n\t\treturn a / b;\r\n\t}\r\n\r\n\tfunction sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n\t\tassert(b <= a);\r\n\t\treturn a - b;\r\n\t}\r\n\r\n\tfunction add(uint256 a, uint256 b) internal pure returns (uint256) {\r\n\t\tuint256 c = a + b;\r\n\t\tassert(c >= a);\r\n\t\treturn c;\r\n\t}\r\n}\r\n\r\n/* Contracts */\r\ncontract ERC20Interface {\r\n\tfunction transfer(address _to, uint256 _value) public returns (bool) {}\r\n\tfunction balanceOf(address _owner) public view returns (uint256) {}\r\n}\r\ncontract CorionLocker {\r\n\t/* Libraries */\r\n\tusing SafeMath for uint256;\r\n\t\r\n\t/* Structures */\r\n\t\r\n\t/* Variables */\r\n\tERC20Interface public constant CORION      = ERC20Interface(0x26a604DFFE3ddaB3BEE816097F81d3C4a2A4CF97);\r\n\tuint8                 constant BLOCK_DELAY = 14;\r\n\tuint32         public constant PART_DELAY  = uint32( uint256(60).mul(60).mul(24).mul(365).div(4).div(BLOCK_DELAY) );\r\n\taddress        public          owner;\r\n\tstring         public          name;\r\n\tuint256        public          totalAmount;\r\n\tuint256        public          amountPaid;\r\n\tuint256        public          partAmount;\r\n\tuint32         public          startBlock;\r\n\tuint8          public          parts;\r\n\t\r\n\t/* Connstructor */\r\n\tconstructor(address _owner, uint8 _parts, string _name) {\r\n\t\trequire( _owner != 0x00 && _parts != 0 );\r\n\t\towner = _owner;\r\n\t\tname = _name;\r\n\t\tparts = _parts;\r\n\t}\r\n\t\r\n\t/* Modifiers */\r\n\tmodifier forOwner { require(msg.sender == owner); _; }\r\n\tmodifier beforeInitialization { require( startBlock == 0); _; }\r\n\tmodifier afterInitialization { require( startBlock > 0); _; }\r\n\t\r\n\t/* Fallback */\r\n\t\r\n\t/* Externals */\r\n\tfunction init(uint8 _shiftParts) forOwner beforeInitialization external {\r\n\t\tstartBlock = uint32(block.number);\r\n\t\tif ( _shiftParts > 0 ) {\r\n\t\t\tstartBlock += PART_DELAY * _shiftParts;\r\n\t\t}\r\n\t\ttotalAmount = CORION.balanceOf(address(this));\r\n\t\tpartAmount = totalAmount.div( uint256(parts) );\r\n\t\trequire( totalAmount > 0 );\r\n\t}\r\n\tfunction withdraw() forOwner afterInitialization external {\r\n\t\tuint256 payAmount = this.calculateAmount();\r\n\t\trequire( payAmount > 0 );\r\n\t\tbool success = CORION.transfer(owner, payAmount);\r\n\t\trequire( success );\r\n\t\temit Paid(payAmount);\r\n\t\tamountPaid = amountPaid.add(payAmount);\r\n\t}\r\n\t\r\n\t/* Constants */\r\n\tfunction calculateAmount() constant returns (uint256 amount) {\r\n\t\tamount = _calculateAmount();\r\n\t\tif ( amount == 0 || amount == amountPaid ) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\treturn amount.sub(amountPaid);\r\n\t}\r\n\t\r\n\t/* Internals */\r\n\tfunction _calculateAmount() internal view returns (uint256 amount) {\r\n\t\tif ( startBlock == 0 && startBlock >= block.number ) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tuint256 partsToPay = uint256((block.number - startBlock) / PART_DELAY);\r\n\t\tif ( partsToPay == 0 ) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\telse if ( partsToPay >= parts ) {\r\n\t\t\treturn totalAmount;\r\n\t\t}\r\n\t\treturn partsToPay.mul(partAmount);\r\n\t}\r\n\t\r\n\t/* Privates */\r\n\t\r\n\t/* Events */\r\n\tevent Paid(uint256 amount);\r\n}"
    }
  }
}