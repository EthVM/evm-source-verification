{"language":"Solidity","settings":{"libraries":{},"metadata":{"useLiteralContent":true},"optimizer":{"enabled":false,"runs":200},"remappings":[],"outputSelection":{"*":{"*":["*"],"":["*"]}}},"sources":{"yTSLAFuelStation.sol":{"content":"//SPDX-License-Identifier: Unlicense\r\npragma solidity ^0.6.0;\r\n\r\ninterface IERC1155 {\r\n    function balanceOf(address _owner, uint256 _id) external view returns (uint256);\r\n    function safeTransferFrom(address from, address to, uint256 id, uint256 amount, bytes calldata data) external;\r\n    function mint(\r\n    \taddress _to,\r\n    \tuint256 _id,\r\n    \tuint256 _quantity,\r\n    \tbytes calldata _data\r\n    ) external;\r\n}\r\n\r\ninterface IERC20 {\r\n    function balanceOf(address _owner) external view returns (uint256);\r\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\r\n    function transfer(address recipient, uint256 amount) external returns (bool);\r\n}\r\n\r\ncontract yTSLAFuelStation {\r\n  IERC1155 public dmc = IERC1155(0x6E91869090a430e6ba6fFa7c585742E56Fed2247);\r\n  IERC20 public ytsla = IERC20(0x5322A3556F979cE2180B30e689a9436fDDCB1021);\r\n\r\n    function mint() public {\r\n        require(ytsla.balanceOf(msg.sender) >= 99 ether);\r\n        ytsla.transferFrom(msg.sender, address(this), 99 ether);\r\n        if (dmc.balanceOf(address(this), 11) >= 1) {\r\n            dmc.safeTransferFrom(address(this), msg.sender, 11, 1, \"\");\r\n        } else {\r\n            dmc.mint(msg.sender, 11, 1, \"\");\r\n        }\r\n    }\r\n    function redeem() public {\r\n        require(dmc.balanceOf(msg.sender, 11) >= 1);\r\n        dmc.safeTransferFrom(msg.sender, address(this), 11, 1, \"\");\r\n        ytsla.transfer(msg.sender, 99 ether);\r\n    }\r\n  \r\n  \tfunction onERC1155Received(\r\n\t\taddress _operator,\r\n\t\taddress, // _from\r\n\t\tuint256, // _id\r\n\t\tuint256, // _amount\r\n\t\tbytes memory // _data\r\n\t) public view returns (bytes4) {\r\n\t\trequire(msg.sender == address(dmc), \"onERC1155BatchReceived:: invalid token address\");\r\n\t\trequire(_operator == address(this), \"onERC1155BatchReceived:: operator must be fuel station contract\");\r\n\r\n\t\t// Return success\r\n\t\treturn this.onERC1155Received.selector;\r\n\t}\r\n    function supportsInterface(bytes4 interfaceID) external pure returns (bool) {\r\n    \treturn\r\n    \t\tinterfaceID == 0x01ffc9a7 || // ERC-165 support\r\n    \t\tinterfaceID == 0x4e2312e0; // ERC-1155 `ERC1155TokenReceiver` support\r\n    }\r\n}"}}}