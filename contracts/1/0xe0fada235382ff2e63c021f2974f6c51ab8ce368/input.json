{
  "language": "Solidity",
  "sources": {
    "LPTokenMaster.sol": {
      "content": "// SPDX-License-Identifier: UNLICENSED\n\n// Copyright (c) WildCredit - All rights reserved\n// https://twitter.com/WildCredit\n\npragma solidity 0.8.6;\n\nimport \"ILPTokenMaster.sol\";\nimport \"ILendingPair.sol\";\nimport \"ILendingController.sol\";\nimport \"SafeOwnable.sol\";\n\ncontract LPTokenMaster is ILPTokenMaster, SafeOwnable {\n\n  event Transfer(address indexed from, address indexed to, uint value);\n  event Approval(address indexed owner, address indexed spender, uint value);\n  event NameChange(string _name, string _symbol);\n\n  mapping (address => mapping (address => uint)) public override allowance;\n\n  address public override underlying;\n  address public lendingController;\n  string  public constant name = \"WILD-LP\";\n  string  public constant symbol = \"WILD-LP\";\n  uint8   public constant override decimals = 18;\n  bool    private initialized;\n\n  modifier onlyOperator() {\n    require(msg.sender == ILendingController(lendingController).owner(), \"LPToken: caller is not an operator\");\n    _;\n  }\n\n  function initialize(address _underlying, address _lendingController) external override {\n    require(initialized != true, \"LPToken: already intialized\");\n    owner = msg.sender;\n    underlying = _underlying;\n    lendingController = _lendingController;\n    initialized = true;\n  }\n\n  function transfer(address _recipient, uint _amount) external override returns(bool) {\n    _transfer(msg.sender, _recipient, _amount);\n    return true;\n  }\n\n  function approve(address _spender, uint _amount) external override returns(bool) {\n    _approve(msg.sender, _spender, _amount);\n    return true;\n  }\n\n  function transferFrom(address _sender, address _recipient, uint _amount) external override returns(bool) {\n    _approve(_sender, msg.sender, allowance[_sender][msg.sender] - _amount);\n    _transfer(_sender, _recipient, _amount);\n    return true;\n  }\n\n  function lendingPair() external view override returns(address) {\n    return owner;\n  }\n\n  function balanceOf(address _account) external view override returns(uint) {\n    return ILendingPair(owner).supplySharesOf(underlying, _account);\n  }\n\n  function totalSupply() external view override returns(uint) {\n    return ILendingPair(owner).totalSupplyShares(underlying);\n  }\n\n  function _transfer(address _sender, address _recipient, uint _amount) internal {\n    require(_sender != address(0), \"ERC20: transfer from the zero address\");\n    require(_recipient != address(0), \"ERC20: transfer to the zero address\");\n\n    ILendingPair(owner).transferLp(underlying, _sender, _recipient, _amount);\n\n    emit Transfer(_sender, _recipient, _amount);\n  }\n\n  function _approve(address _owner, address _spender, uint _amount) internal {\n    require(_owner != address(0), \"ERC20: approve from the zero address\");\n    require(_spender != address(0), \"ERC20: approve to the zero address\");\n\n    allowance[_owner][_spender] = _amount;\n    emit Approval(_owner, _spender, _amount);\n  }\n}"
    },
    "ILPTokenMaster.sol": {
      "content": "// SPDX-License-Identifier: UNLICENSED\n\npragma solidity 0.8.6;\n\nimport \"IOwnable.sol\";\nimport \"IERC20.sol\";\n\ninterface ILPTokenMaster is IOwnable, IERC20 {\n  function initialize(address _underlying, address _lendingController) external;\n  function underlying() external view returns(address);\n  function lendingPair() external view returns(address);\n}\n"
    },
    "IOwnable.sol": {
      "content": "// SPDX-License-Identifier: UNLICENSED\n\npragma solidity 0.8.6;\n\ninterface IOwnable {\n  function owner() external view returns(address);\n  function transferOwnership(address _newOwner) external;\n  function acceptOwnership() external;\n}"
    },
    "IERC20.sol": {
      "content": "// SPDX-License-Identifier: UNLICENSED\n\npragma solidity >=0.7.0;\n\ninterface IERC20 {\n  function totalSupply() external view returns (uint);\n  function balanceOf(address account) external view returns(uint);\n  function transfer(address recipient, uint256 amount) external returns(bool);\n  function allowance(address owner, address spender) external view returns(uint);\n  function decimals() external view returns(uint8);\n  function approve(address spender, uint amount) external returns(bool);\n  function transferFrom(address sender, address recipient, uint amount) external returns(bool);\n}"
    },
    "ILendingPair.sol": {
      "content": "// SPDX-License-Identifier: UNLICENSED\n\npragma solidity 0.8.6;\n\ninterface ILendingPair {\n\n  function tokenA() external view returns(address);\n  function tokenB() external view returns(address);\n  function lpToken(address _token) external view returns(address);\n  function deposit(address _account, address _token, uint _amount) external;\n  function withdraw(address _token, uint _amount) external;\n  function withdrawAll(address _token) external;\n  function transferLp(address _token, address _from, address _to, uint _amount) external;\n  function supplySharesOf(address _token, address _account) external view returns(uint);\n  function totalSupplyShares(address _token) external view returns(uint);\n  function totalSupplyAmount(address _token) external view returns(uint);\n  function totalDebtShares(address _token) external view returns(uint);\n  function totalDebtAmount(address _token) external view returns(uint);\n  function supplyOf(address _token, address _account) external view returns(uint);\n\n  function supplyBalanceConverted(\n    address _account,\n    address _suppliedToken,\n    address _returnToken\n  ) external view returns(uint);\n\n  function initialize(\n    address _lpTokenMaster,\n    address _lendingController,\n    address _uniV3Helper,\n    address _feeRecipient,\n    address _tokenA,\n    address _tokenB\n  ) external;\n}"
    },
    "ILendingController.sol": {
      "content": "// SPDX-License-Identifier: UNLICENSED\n\npragma solidity 0.8.6;\n\nimport \"IOwnable.sol\";\n\ninterface ILendingController is IOwnable {\n  function interestRateModel() external view returns(address);\n  function liqFeeSystem(address _token) external view returns(uint);\n  function liqFeeCaller(address _token) external view returns(uint);\n  function uniMinOutputPct() external view returns(uint);\n  function colFactor(address _token) external view returns(uint);\n  function depositLimit(address _lendingPair, address _token) external view returns(uint);\n  function borrowLimit(address _lendingPair, address _token) external view returns(uint);\n  function depositsEnabled() external view returns(bool);\n  function borrowingEnabled() external view returns(bool);\n  function tokenPrice(address _token) external view returns(uint);\n  function minBorrow(address _token) external view returns(uint);\n  function tokenPrices(address _tokenA, address _tokenB) external view returns (uint, uint);\n  function tokenSupported(address _token) external view returns(bool);\n}\n"
    },
    "SafeOwnable.sol": {
      "content": "// SPDX-License-Identifier: UNLICENSED\n\npragma solidity 0.8.6;\n\nimport \"IOwnable.sol\";\n\ncontract SafeOwnable is IOwnable {\n\n  uint public constant RENOUNCE_TIMEOUT = 1 hours;\n\n  address public override owner;\n  address public pendingOwner;\n  uint public renouncedAt;\n\n  event OwnershipTransferInitiated(address indexed previousOwner, address indexed newOwner);\n  event OwnershipTransferConfirmed(address indexed previousOwner, address indexed newOwner);\n\n  constructor() {\n    owner = msg.sender;\n    emit OwnershipTransferConfirmed(address(0), msg.sender);\n  }\n\n  modifier onlyOwner() {\n    require(isOwner(), \"Ownable: caller is not the owner\");\n    _;\n  }\n\n  function isOwner() public view returns (bool) {\n    return msg.sender == owner;\n  }\n\n  function transferOwnership(address _newOwner) external override onlyOwner {\n    require(_newOwner != address(0), \"Ownable: new owner is the zero address\");\n    emit OwnershipTransferInitiated(owner, _newOwner);\n    pendingOwner = _newOwner;\n  }\n\n  function acceptOwnership() external override {\n    require(msg.sender == pendingOwner, \"Ownable: caller is not pending owner\");\n    emit OwnershipTransferConfirmed(msg.sender, pendingOwner);\n    owner = pendingOwner;\n    pendingOwner = address(0);\n  }\n\n  function initiateRenounceOwnership() external onlyOwner {\n    require(renouncedAt == 0, \"Ownable: already initiated\");\n    renouncedAt = block.timestamp;\n  }\n\n  function acceptRenounceOwnership() external onlyOwner {\n    require(renouncedAt > 0, \"Ownable: not initiated\");\n    require(block.timestamp - renouncedAt > RENOUNCE_TIMEOUT, \"Ownable: too early\");\n    owner = address(0);\n    pendingOwner = address(0);\n    renouncedAt = 0;\n  }\n\n  function cancelRenounceOwnership() external onlyOwner {\n    require(renouncedAt > 0, \"Ownable: not initiated\");\n    renouncedAt = 0;\n  }\n}"
    }
  },
  "settings": {
    "evmVersion": "istanbul",
    "optimizer": {
      "enabled": true,
      "runs": 200
    },
    "outputSelection": {
      "*": {
        "*": [
          "evm.bytecode",
          "evm.deployedBytecode",
          "devdoc",
          "userdoc",
          "metadata",
          "abi"
        ]
      }
    }
  }
}